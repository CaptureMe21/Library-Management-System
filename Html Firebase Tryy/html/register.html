<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System | Firebase</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css"> 

</head>
  <body style="background-image: url('/photos/Bandlecity.jpg'); background-size: cover; background-repeat: no-repeat;">

    <div class="regis-nav">
      <nav>
  
          <a class="btn btn-primary" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
              Link with href
          </a>
  
          <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel" style="background-image: url('/photos/Bandlecity.jpg');">
              <div class="offcanvas-header">
                  <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
                  <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                  <div class="register"><!-- Start of Class Form -->
                      <div class="regiswrap">
                          <form> <!-- Start of Form -->
                              <h1>Register</h1>
  
                              <div class="input-box">
                                  <i class='bx bxs-user'></i>
                                  <input type="text" id="fname" placeholder="First Name" required>
                              </div>
  
                              <div class="input-box">
                                  <i class='bx bxs-user'></i>
                                  <input type="text" id="lname" placeholder="Last Name" required>
                              </div>

                              <div class="input-box">
                                <i class='bx bxs-user'></i>
                                <input type="text" id="email" placeholder="Email" required>
                            </div>
  
                              <div class="input-box">
                                  <i class='bx bxs-user'></i>
                                  <input type="text" id="idnum" placeholder="ID Number" required>
                              </div>
  
                              <div class="input-box">
                                  <i class='bx bxs-lock-alt'></i>
                                  <input type="password" id="password" placeholder="Password" required maxlength="9">
                              </div>
  
                              <button type="submit" class="btn" id="submit">Submit</button>
                              <div class="register-link">
                                  <!-- Add your register link content here -->
                              </div>
  
                          </form> <!-- End of Form -->
                      </div>
                  </div><!-- End of Class Form -->
              </div>
          </div> <!-- End of offcanvas-body -->
      </nav> <!-- End of Nav -->
  </div><!-- End of regis-nav -->
  
<!-- Start of Set Up Connections to Firebase-->
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyD542ixuUPqhloWihSDknkw81fDG2Jy2rs",
      authDomain: "lms-try-3fdf2.firebaseapp.com",
      databaseURL: "https://lms-try-3fdf2-default-rtdb.firebaseio.com",
      projectId: "lms-try-3fdf2",
      storageBucket: "lms-try-3fdf2.appspot.com",
      messagingSenderId: "922498078551",
      appId: "1:922498078551:web:c4a74fa3e833b1103a1012"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
  
    const db = getDatabase(app);
  
    document.getElementById("submit").addEventListener('click', function(e){
        e.preventDefault();

      set(ref(db, 'user/' + document.getElementById("idnum").value),
      {
        
        fname: document.getElementById("fname").value,
        lname: document.getElementById("lname").value,
        email: document.getElementById("email").value,
        idnum: document.getElementById("idnum").value,
        passwword: document.getElementById("password").value
  
      });
  
      alert("Log In Successfully!");
      setTimeout(function() {
          window.location.href = "index.html";
      }, 1500); // 1500 milliseconds (1.5 seconds)
  
    })
  
  </script>
<!-- End of Set Up Connections to Firebase-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>